filebeat.inputs:
- type: docker
  multiline.pattern: '^[[:space:]]'
  multiline.negate: false
  multiline.match: after
  combine_partial: true
  containers:
    path: "/var/lib/docker/containers"
    stream: "all"
    ids:
      - "*"
  processors:
  - add_docker_metadata: ~

#output.file:
#  path: "/tmp/filebeat"
#  filename: filebeat

Exiting: setup.template.name and setup.template.pattern have to be set if index name is modified
setup:
  template:
    enabled: {{ filebeat_setup_template }}
    name: "filebeat-%{[agent.version]}"
    pattern: "filebeat-*"

output.elasticsearch:
  hosts: [ {% for node in elasticsearch_cluster_network_addresses %}"{% if elasticsearch_security_http_enabled %}https{% else %}http{% endif %}://{{ node }}:{{ elasticsearch_network_port }}"{% if loop.index != elasticsearch_cluster_network_addresses|length %},{% endif %}{% endfor %} ]
  index: "filebeat-%{[agent.version]}-%{+yyyy.MM.dd}"
  username: "${ES_USR}"
  password: "${ES_PWD}"
  ssl.verification_mode: none
  ssl.certificate_authorities: ["/usr/share/filebeat/{{ elasticsearch_certificate_ca_file_ingest }}"]

#xpack.monitoring.enabled: true
#xpack.monitoring.elasticsearch.hosts: "{{ filebeat_elasticsearch_monitoring_hosts|default(["https://172.28.10.90:9200"]) }}"
#xpack.monitoring.elasticsearch.username: "${ES_MONITORING_USER}"
#xpack.monitoring.elasticsearch.password: "${ES_MONITORING_PASS}"
#xpack.monitoring.elasticsearch.ssl.certificate_authorities: "/usr/share/filebeat/{{ elasticsearch_certificate_ca_file_monitoring }}"
#queue.spool.file.path: "/usr/share/filebeat/data/spool.dat"
#queue.spool.file.size: 1024MiB
#queue.spool.file.page_size: 16KiB
#queue.spool.write.buffer_size: 10MiB
#queue.spool.write.flush.timeout: 5s
#queue.spool.write.flush.events: 1024
#output.logstash.hosts: [{% for addr in logstash_cluster_addresses %}"{{ addr }}:{{ logstash_network_port }}"{% if loop.index != logstash_cluster_addresses|length %},{% endif %}{% endfor %}]
#output.logstash.ssl.certificate_authorities: ["/usr/share/filebeat/{{ elasticsearch_certificate_ca_file_ingest }}"]
#output.logstash.loadbalance: true
